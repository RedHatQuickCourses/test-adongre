<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using brokerProperties attribute in ActiveMQArtemis CR instance :: Address Settings for AMQ Broker on OpenShift</title>
    <link rel="prev" href="configuring-address-settings.html">
    <link rel="next" href="configuring-address-settings-under-brokerproperties.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Address Settings for AMQ Broker on OpenShift</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="test-adongre" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Address Settings for AMQ Broker on OpenShift</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="configuring-address-settings.html">Configuring Address Settings</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="using-brokerproperties-attribute-in-activemqartemis-cr-instance.html">Using brokerProperties attribute in ActiveMQArtemis CR instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-address-settings-under-brokerproperties.html">Configuring address settings under brokerProperties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="example-configuring-dead-letter-address-and-queue-for-specific-address-patterns.html">Example: Configuring dead letter address and queue for specific address patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-activemqartemisaddress-cr-instance.html">Using ActiveMQArtemisAddress CR instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-address-settings-in-addresssettings-section-of-activemqartemis-cr.html">Configuring address settings in addressSettings section of ActiveMQArtemis CR</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="example-configuring-dead-letter-address-and-queue-for-specific-address-patterns.html">Example: Configuring dead letter address and queue for specific address patterns</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../address-settings-configuration/address-settings-configuration.html">Address Settings Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../address-settings-configuration/match-property.html">match property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../address-settings-configuration/enclosing-value-in-single-quotation-marks-for-example-myotheraddresses.html">Enclosing value in single quotation marks, for example, myOtherAddresses#</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../address-settings-configuration/applyrule-property.html">applyRule property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../address-settings-configuration/specifying-how-the-operator-applies-the-configuration.html">Specifying how the Operator applies the configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../address-settings-configuration/example-merge_all.html">Example: merge_all</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../avoiding-default-configuration-inclusion/avoiding-default-configuration-inclusion.html">Avoiding Default Configuration Inclusion</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../avoiding-default-configuration-inclusion/not-including-properties-specified-in-the-default-configuration-even-if-not-specified-in-the-cr.html">Not including properties specified in the default configuration, even if not specified in the CR</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overlapping-address-settings/overlapping-address-settings.html">Overlapping Address Settings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overlapping-address-settings/ensuring-not-to-include-properties-with-the-same-value-in-both-cr-and-default-entry-sub-entry.html">Ensuring not to include properties with the same value in both CR and default Entry Sub-entry</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Address Settings for AMQ Broker on OpenShift</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Address Settings for AMQ Broker on OpenShift</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Address Settings for AMQ Broker on OpenShift</a></li>
    <li><a href="configuring-address-settings.html">Configuring Address Settings</a></li>
    <li><a href="using-brokerproperties-attribute-in-activemqartemis-cr-instance.html">Using brokerProperties attribute in ActiveMQArtemis CR instance</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using brokerProperties attribute in ActiveMQArtemis CR instance</h1>
<div class="sect1">
<h2 id="_using_brokerproperties_attribute_in_activemqartemis_cr_instance"><a class="anchor" href="#_using_brokerproperties_attribute_in_activemqartemis_cr_instance"></a>Using brokerProperties Attribute in ActiveMQArtemis CR Instance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>brokerProperties</code> attribute in the ActiveMQArtemis Custom Resource (CR) instance allows you to configure address settings for your AMQ Broker deployment on OpenShift. This method is particularly useful when you need to apply custom configurations that are not exposed through a custom resource definition (CRD).</p>
</div>
<div class="sect2">
<h3 id="_configuring_address_settings_under_brokerproperties"><a class="anchor" href="#_configuring_address_settings_under_brokerproperties"></a>Configuring Address Settings under brokerProperties</h3>
<div class="paragraph">
<p>To configure address settings using the <code>brokerProperties</code> attribute, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Edit the Custom Resource (CR):</strong> Begin by editing the CR for your broker deployment.</p>
</li>
<li>
<p><strong>Specify Plugin and Properties:</strong> In the <code>brokerProperties</code> attribute, specify the class name of the plugin you want to register. Include a comma-separated string of <code>&lt;key&gt;=&lt;value&gt;</code> pairs that define the properties for the plugin. For example, to register the <code>LoggingActiveMQServerPlugin</code> provided with AMQ Broker, you would include the following:</p>
<div class="literalblock">
<div class="content">
<pre>```
brokerProperties:
  - LoggingActiveMQServerPlugin.config.myKey1=myValue1,LoggingActiveMQServerPlugin.config.myKey2=myValue2
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Save the CR:</strong> After specifying the plugin and properties, save the CR. An instance of the plugin will be created, and its <code>init</code> method will be passed a string containing the <code>&lt;key&gt;=&lt;value&gt;</code> pairs to set properties for the plugin.</p>
</li>
<li>
<p><strong>Check for Errors:</strong> To ensure no errors were detected in the <code>brokerProperties</code> configuration, review the <code>status</code> section of the ActiveMQArtemis CR. For more information, refer to Section 2.4, “Configuring items not exposed in a custom resource definition (CRD)”.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_example_configuring_dead_letter_address_and_queue"><a class="anchor" href="#_example_configuring_dead_letter_address_and_queue"></a>Example: Configuring Dead Letter Address and Queue</h3>
<div class="paragraph">
<p>Let&#8217;s consider an example where you want to configure a dead letter address and queue for specific address patterns. You can achieve this by using the <code>brokerProperties</code> attribute as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Edit the CR:</strong> Start by editing the CR for your broker deployment.</p>
</li>
<li>
<p><strong>Specify Plugin and Properties:</strong> In the <code>brokerProperties</code> attribute, include the necessary properties for the <code>org.apache.activemq.artemis.jms.server.impl.JMSServerPluginManager</code> plugin. For instance, to configure a dead letter address and queue for addresses matching the pattern <code>myOtherAddresses#</code>, use the following configuration:</p>
<div class="literalblock">
<div class="content">
<pre>```
brokerProperties:</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="configuring-address-settings.html">Configuring Address Settings</a></span>
  <span class="next"><a href="configuring-address-settings-under-brokerproperties.html">Configuring address settings under brokerProperties</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
