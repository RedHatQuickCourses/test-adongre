<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>applyRule property :: Address Settings for AMQ Broker on OpenShift</title>
    <link rel="prev" href="enclosing-value-in-single-quotation-marks-for-example-myotheraddresses.html">
    <link rel="next" href="specifying-how-the-operator-applies-the-configuration.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Address Settings for AMQ Broker on OpenShift</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="test-adongre" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Address Settings for AMQ Broker on OpenShift</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../configuring-address-settings/configuring-address-settings.html">Configuring Address Settings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/using-brokerproperties-attribute-in-activemqartemis-cr-instance.html">Using brokerProperties attribute in ActiveMQArtemis CR instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/configuring-address-settings-under-brokerproperties.html">Configuring address settings under brokerProperties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/example-configuring-dead-letter-address-and-queue-for-specific-address-patterns.html">Example: Configuring dead letter address and queue for specific address patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/using-activemqartemisaddress-cr-instance.html">Using ActiveMQArtemisAddress CR instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/configuring-address-settings-in-addresssettings-section-of-activemqartemis-cr.html">Configuring address settings in addressSettings section of ActiveMQArtemis CR</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-address-settings/example-configuring-dead-letter-address-and-queue-for-specific-address-patterns.html">Example: Configuring dead letter address and queue for specific address patterns</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="address-settings-configuration.html">Address Settings Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="match-property.html">match property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="enclosing-value-in-single-quotation-marks-for-example-myotheraddresses.html">Enclosing value in single quotation marks, for example, myOtherAddresses#</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="applyrule-property.html">applyRule property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="specifying-how-the-operator-applies-the-configuration.html">Specifying how the Operator applies the configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="example-merge_all.html">Example: merge_all</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../avoiding-default-configuration-inclusion/avoiding-default-configuration-inclusion.html">Avoiding Default Configuration Inclusion</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../avoiding-default-configuration-inclusion/not-including-properties-specified-in-the-default-configuration-even-if-not-specified-in-the-cr.html">Not including properties specified in the default configuration, even if not specified in the CR</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overlapping-address-settings/overlapping-address-settings.html">Overlapping Address Settings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overlapping-address-settings/ensuring-not-to-include-properties-with-the-same-value-in-both-cr-and-default-entry-sub-entry.html">Ensuring not to include properties with the same value in both CR and default Entry Sub-entry</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Address Settings for AMQ Broker on OpenShift</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Address Settings for AMQ Broker on OpenShift</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Address Settings for AMQ Broker on OpenShift</a></li>
    <li><a href="address-settings-configuration.html">Address Settings Configuration</a></li>
    <li><a href="applyrule-property.html">applyRule property</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">applyRule property</h1>
<div class="sect1">
<h2 id="_applyrule_property"><a class="anchor" href="#_applyrule_property"></a>applyRule Property</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>applyRule</code> property is a crucial component in configuring address settings for AMQ Broker on OpenShift. It dictates how the Operator applies the configuration specified in your Custom Resource (CR) instance to the existing default configuration for each matching address or set of addresses.</p>
</div>
<div class="sect2">
<h3 id="_values_for_applyrule"><a class="anchor" href="#_values_for_applyrule"></a>Values for applyRule</h3>
<div class="paragraph">
<p>You can specify one of the following values for the <code>applyRule</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>merge_all</strong>: This value instructs the Operator to replace any property values specified in the default configuration with those specified in the CR for address settings that match the same address or set of addresses. It also keeps any property values that are specified uniquely in the CR or the default configuration and includes each of these in the final, merged configuration. Furthermore, for address settings specified in either the CR or the default configuration that uniquely match a particular address or set of addresses, it includes these in the final, merged configuration.</p>
</li>
<li>
<p><strong>merge_replace</strong>: This value tells the Operator to include the settings specified in the CR in the final, merged configuration for address settings that match the same address or set of addresses. It does not include settings from the default configuration.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_using_applyrule"><a class="anchor" href="#_using_applyrule"></a>Using applyRule</h3>
<div class="paragraph">
<p>To use the <code>applyRule</code> property, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the beginning of the <code>addressSettings</code> section in your CR instance, add the <code>applyRule</code> property and specify a value. For example:</p>
<div class="literalblock">
<div class="content">
<pre>```
spec:
  ...
  addressSettings:
    applyRule: merge_all
    addressSetting:
      - match:
          myAddress
         deadLetterAddress:
            myDeadLetterAddress
           maxDeliveryAttempts: 5
      - match:
          'myOtherAddresses#'
         deadletterAddress:
            myDeadLetterAddress
           maxDeliveryAttempts: 3
```</pre>
</div>
</div>
</li>
<li>
<p>Based on the value of the <code>applyRule</code> property in the CR, the Init Container will merge or replace the default address settings configuration with the configuration specified in the CR. The result is the final address settings configuration that the broker will use.</p>
</li>
<li>
<p>When the Init Container finishes generating the broker configuration, including address settings, the broker application container starts. The broker container then copies its configuration from the installation directory previously used by the Init Container. You can inspect the address settings configuration in the <code>broker.xml</code> configuration file, located in the <code>/home/jboss/amq-broker/etc</code> directory for a running broker.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>By understanding and</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="enclosing-value-in-single-quotation-marks-for-example-myotheraddresses.html">Enclosing value in single quotation marks, for example, myOtherAddresses#</a></span>
  <span class="next"><a href="specifying-how-the-operator-applies-the-configuration.html">Specifying how the Operator applies the configuration</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
